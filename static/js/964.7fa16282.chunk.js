"use strict";(self.webpackChunkrailtime_idf=self.webpackChunkrailtime_idf||[]).push([[964],{8171:function(e,t,r){var s=r(9867),n=r(5644),l=r(9790),a=r(2834);t.Z=function(e){var t=e.lineID,r=e.stationID,i=(0,s.useRef)(null);return(0,s.useEffect)((function(){var e=function(){var e=i.current.classList;e.toggle("flex-col",i.current.offsetWidth<=200),e.toggle("sm:flex-row",i.current.offsetWidth>200)};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),(0,a.jsxs)("nav",{className:"flex sm:flex-row h-10 pl-4 bg-white dark:bg-gray-800 dark:text-white border-b border-gray-700 dark:border-gray-400",ref:i,"aria-label":"Breadcrumb",children:[(0,a.jsx)("ol",{className:"inline-flex items-center space-x-1 md:space-x-3 flex-none",children:t&&(0,a.jsx)("li",{children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"w-3 h-3 text-gray-400 xl:mx-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10",children:(0,a.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 9 4-4-4-4"})}),(0,a.jsx)(n.rU,{to:"/line/".concat(t),className:"mx-1 text-xs lg:text-sm font-medium hover:text-blue-600 md:ml-2",children:(0,l.Zd)(t)}),r&&(0,a.jsx)("svg",{className:"w-3 h-3 text-gray-400 xl:mx-1 mr-2","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10",children:(0,a.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 9 4-4-4-4"})})]})})}),r&&(0,a.jsx)("ol",{className:"inline-flex items-center space-x-1 md:space-x-3 w-full sm:w-auto",children:(0,a.jsx)("li",{"aria-current":"page",children:(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(n.rU,{to:"/station/".concat(r),className:"text-xs lg:text-sm font-medium text-gray-500 hover:text-blue-600 md:ml-2 line-clamp-1",children:(0,l.zj)(r)})})})})]})}},5236:function(e,t,r){r.d(t,{Z:function(){return x}});var s=r(4165),n=r(5861),l=r(9439),a=r(9867),i=r(4189),o=r(4670),c=r(2834),d=function(){var e=(0,a.useState)(!1),t=(0,l.Z)(e,2),r=t[0],s=t[1];return(0,c.jsx)("button",{onClick:function(){s(!r)},"aria-label":r?"Remove from favorites":"Add to favorites",children:r?(0,c.jsx)("svg",{class:"w-3 h-3 lg:w-5 lg:h-5 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 14 20",children:(0,c.jsx)("path",{d:"M13 20a1 1 0 0 1-.64-.231L7 15.3l-5.36 4.469A1 1 0 0 1 0 19V2a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v17a1 1 0 0 1-1 1Z"})}):(0,c.jsx)("svg",{class:"w-3 h-3 lg:w-5 lg:h-5 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 4 15",children:(0,c.jsx)("path",{d:"M3.5 1.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm0 6.041a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm0 5.959a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z"})})})},m=r(9790);var x=function(e){var t,r,x,u,h=e.lineID,p=e.stationID,f=(0,o.s0)(),g=(0,a.useState)([]),v=(0,l.Z)(g,2),w=v[0],j=v[1],b=(0,a.useState)(!1),N=(0,l.Z)(b,2),y=N[0],k=N[1];(0,a.useEffect)((function(){var e=function(){var e=(0,n.Z)((0,s.Z)().mark((function e(){var t,r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.c)();case 2:t=e.sent,r=t.disruptedLines,j(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var I=w.some((function(e){return e.lineId==="line:IDFM:"+h&&!0===e.disrupted}));return(0,c.jsxs)("div",{className:"flex items-center bg-white dark:bg-gray-800 dark:text-white border-gray-900 dark:border-gray-800 border-solid border p-2 lg:p-4 mb-2 lg:mb-4 rounded-b-lg shadow-md min-h-[52px]",onMouseEnter:function(){return k(!0)},onMouseLeave:function(){return k(!1)},children:[I&&(0,c.jsxs)("span",{className:"relative",children:[y&&(0,c.jsxs)("div",{"data-popover":!0,id:"popover-top",role:"tooltip",className:"absolute z-10 inline-block w-40 lg:w-80 text-sm text-gray-500 transition-opacity duration-300 bg-white border border-gray-200 rounded-lg shadow-sm opacity-100 dark:text-gray-400 dark:border-gray-600 dark:bg-gray-800",children:[(0,c.jsx)("div",{className:"px-3 py-2 bg-gray-100 border-b border-gray-200 rounded-t-lg dark:border-gray-600 dark:bg-gray-700 flex flex-row",children:(0,c.jsx)("h3",{className:"flex-grow font-semibold text-gray-900 dark:text-white",children:null===(t=w.find((function(e){return e.lineId==="line:IDFM:"+h})))||void 0===t?void 0:t.disruption.cause})}),(0,c.jsxs)("div",{className:"px-3 py-2",children:[(0,c.jsx)("p",{children:null===(r=w.find((function(e){return e.lineId==="line:IDFM:"+h})))||void 0===r?void 0:r.disruption.title}),(0,c.jsxs)("a",{class:"bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 hover:dark:bg-gray-600 font-medium rounded-lg text-xs px-3 mt-3 text-center inline-flex items-center cursor-pointer",onClick:function(){f("/line/".concat(h))},children:[(0,c.jsx)("svg",{class:"-ml-0.5 mr-2 h-3 w-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 14",children:(0,c.jsx)("path",{d:"M10 0C4.612 0 0 5.336 0 7c0 1.742 3.546 7 10 7 6.454 0 10-5.258 10-7 0-1.664-4.612-7-10-7Zm0 10a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z"})}),"En savoir plus"]})]})]}),(0,c.jsx)("span",{className:"absolute top-[-1rem] right-[-0.4rem] lg:top-[-1.8rem] lg:right-[-0.7rem]",children:(0,c.jsxs)("span",{className:"relative flex h-3 w-3 lg:h-5 lg:w-5",children:[(0,c.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 ".concat("BLOQUANTE"===(null===(x=w.find((function(e){return e.lineId==="line:IDFM:"+h})))||void 0===x?void 0:x.disruption.severity)?"bg-red-600":"bg-yellow-400")}),(0,c.jsx)("span",{className:"relative inline-flex rounded-full h-3 w-3 lg:h-5 lg:w-5 ".concat("BLOQUANTE"===(null===(u=w.find((function(e){return e.lineId==="line:IDFM:"+h})))||void 0===u?void 0:u.disruption.severity)?"bg-red-600":"bg-yellow-400")})]})})]}),(0,c.jsx)("img",{src:"/IDF-Timing-Now"+"/images/".concat((0,m.tX)(h)).concat("dark"===localStorage.theme?"_LIGHT":"",".svg"),alt:(0,m.tX)(h),className:"h-5 lg:h-10 mr-1"}),(0,c.jsx)(m.BU,{lineID:h,className:"h-5 lg:h-10 mr-2 lg:mr-4"}),(0,c.jsx)("p",{className:"text-xs lg:text-base font-medium flex-grow line-clamp-2",children:(0,m.zj)(p)}),(0,c.jsx)("p",{className:"text-slate-400 text-xs font-bold pr-0.5 lg:pr-2",children:(0,c.jsx)(d,{})})]})}},1194:function(e,t,r){r.r(t),r.d(t,{default:function(){return k}});var s=r(4670),n=r(5236),l=r(2095),a=r(8171),i=r(4165),o=r(5861),c=r(9439),d=r(9867),m=r(2834);var x=function(e){var t=e.lineID,r=e.stationName,s=(0,d.useState)([]),n=(0,c.Z)(s,2),l=n[0],a=n[1],x=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var r,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.json();case 6:s=e.sent,a(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return(0,d.useEffect)((function(){var e="https://api-iv.iledefrance-mobilites.fr/lines/line:IDFM:".concat(t,"/stops/stop_area:IDFM:").concat(r,"/schedules");x(e)}),[t,r]),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:l.schedules&&l.schedules.map((function(e){return(0,m.jsxs)("div",{className:"",children:[(0,m.jsxs)("div",{className:"flex items-center text-white bg-gray-800 shadow-md py-2 px-4 mb-1",children:[(0,m.jsx)("div",{className:"flex-grow overflow-hidden"}),(0,m.jsxs)("div",{className:"ml-1 lg:ml-5 text-right",children:[(0,m.jsx)("p",{className:"text-xs lg:text-sm font-medium",children:e.from}),(0,m.jsx)("p",{className:"text-xs lg:text-sm font-medium",children:e.to})]})]}),e.first&&(0,m.jsxs)("div",{className:"flex items-center bg-white shadow-md h-8 xl:h-10 p-3 lg:p-4 mb-1",children:[(0,m.jsx)("div",{className:"flex-grow overflow-hidden",children:(0,m.jsx)("h2",{className:"font-medium text-xs lg:text-sm line-clamp-2",children:"Premier d\xe9part :"})}),(0,m.jsx)("div",{className:"ml-1 lg:ml-5 text-right",children:(0,m.jsx)("p",{className:"text-xs lg:text-sm font-medium",children:e.first})})]}),e.last&&(0,m.jsxs)("div",{className:"flex items-center bg-white shadow-md h-8 xl:h-10 p-3 lg:p-4 mb-1",children:[(0,m.jsx)("div",{className:"flex-grow overflow-hidden",children:(0,m.jsx)("h2",{className:"font-medium text-xs lg:text-sm line-clamp-2",children:"Dernier d\xe9part :"})}),(0,m.jsx)("div",{className:"ml-1 lg:ml-5 text-right",children:(0,m.jsx)("p",{className:"text-xs lg:text-sm font-medium",children:e.last})})]}),(0,m.jsxs)("div",{className:"flex items-center text-white bg-gray-800 shadow-md h-8 xl:h-10 p-2 lg:p-4 mb-1",children:[(0,m.jsx)("div",{className:"flex-grow overflow-hidden",children:(0,m.jsx)("h2",{className:"font-medium text-xs lg:text-sm line-clamp-2",children:"Tranche horaire"})}),(0,m.jsx)("div",{className:"ml-1 lg:ml-5 text-right",children:(0,m.jsx)("p",{className:"text-xs lg:text-sm font-medium",children:"Fr\xe9quence"})})]}),e.frequencies.map((function(e){return(0,m.jsxs)("div",{className:"flex items-center bg-white shadow-md h-8 xl:h-10 p-3 lg:p-4 mb-1",children:[(0,m.jsx)("div",{className:"flex-grow overflow-hidden",children:(0,m.jsx)("h2",{className:"font-medium text-xs lg:text-sm line-clamp-2",children:e.periodStart&&e.periodEnd?"".concat(e.periodStart," - ").concat(e.periodEnd):e.periodStart?"Apr\xe8s ".concat(e.periodStart):e.periodEnd?"Avant ".concat(e.periodEnd):""})}),(0,m.jsx)("div",{className:"ml-1 lg:ml-5 text-right",children:(0,m.jsxs)("p",{className:"text-sm lg:text-base font-semibold",children:[e.first&&e.last&&"".concat(e.first," - ").concat(e.last," "),e.frequency,(0,m.jsx)("span",{className:"text-xs lg:text-xs",children:"min"})]})})]},e.periodStart)}))]},e.routeId)}))})})},u=(r(342),r(1550)),h=r(8100),p=r(1891),f=r(5190),g=r(5147),v=r(3397),w=(r(6948),r(6138)),j=r(470),b=r.n(j);delete b().Icon.Default.prototype._getIconUrl,b().Icon.Default.mergeOptions({iconRetinaUrl:r(6431),iconUrl:r(7093),shadowUrl:r(8858)});var N=new(b().Icon)({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});new(b().Icon)({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});var y=function(e){var t=e.lineID,r=e.stationName,s=(0,d.useState)([]),n=(0,c.Z)(s,2),l=n[0],a=n[1],x=(0,d.useState)([]),j=(0,c.Z)(x,2),y=j[0],k=j[1],I=function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){var r,s,n,l,o,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.json();case 6:s=e.sent,a(s),n=(0,w.Z)("+proj=lcc +lat_1=46.8 +lat_0=46.8 +lon_0=0 +k_0=0.99987742 +x_0=600000 +y_0=2200000 +a=6378249.2 +b=6356515 +towgs84=-168,-60,320,0,0,0,0 +pm=paris +units=m +no_defs","+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs",[s.stop.x,s.stop.y]),l=(0,c.Z)(n,2),o=l[0],d=l[1],k([d,o]),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();(0,d.useEffect)((function(){var e="https://api-iv.iledefrance-mobilites.fr/lines/line:IDFM:".concat(t,"/stops/stop_area:IDFM:").concat(r,"/schedules");I(e)}),[t,r]);var Z=function(){var e=(0,h.Sx)();return(0,d.useEffect)((function(){var t=new(b().Control)({position:"bottomleft"});return t.onAdd=function(){var t=b().DomUtil.create("button","leaflet-bar leaflet-control leaflet-control-custom");return t.innerHTML='<svg class="w-4 h-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 14 20"><path d="M7 0a7 7 0 0 0-1 13.92V19a1 1 0 1 0 2 0v-5.08A7 7 0 0 0 7 0Zm0 5.5A1.5 1.5 0 0 0 5.5 7a1 1 0 0 1-2 0A3.5 3.5 0 0 1 7 3.5a1 1 0 0 1 0 2Z"/></svg>',t.style.cssText="background-color: white; padding: 6px; cursor: pointer;",t.onclick=function(){return y&&e.flyTo(y,15)},t},t.addTo(e),function(){return t.remove()}}),[e]),null};return(0,m.jsx)("div",{children:l.stop&&(0,m.jsxs)(g.h,{className:"h-72 z-0",center:y,zoom:15,scrollWheelZoom:!0,attributionControl:!1,children:[(0,m.jsx)(v.I,{url:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"}),(0,m.jsx)(Z,{}),function(e){var r=new Set;return u.filter((function(e){return e.fields.id.split(":").pop()===t})).map((function(t){var s=r.has(t.fields.stop_name);return r.add(t.fields.stop_name),t.fields.stop_name===e.stop.name?(0,m.jsx)(p.J,{position:[t.fields.stop_lat,t.fields.stop_lon],icon:N,children:(0,m.jsx)(f.u,{permanent:!s,children:t.fields.stop_name})},t.fields.stop_id):(0,m.jsx)(p.J,{position:[t.fields.stop_lat,t.fields.stop_lon],children:(0,m.jsx)(f.u,{children:t.fields.stop_name})},t.fields.stop_id)}))}(l)]},y)})};var k=function(){var e=(0,s.UO)().lineID,t=(0,s.UO)().stationID;return(0,m.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 my-2 sm:m-6",children:[(0,m.jsx)("div",{className:"xl:col-span-2",children:(0,m.jsx)(a.Z,{lineID:e,stationID:t})}),(0,m.jsxs)("div",{className:"p-2",children:[(0,m.jsx)(n.Z,{lineID:e,stationID:t}),(0,m.jsx)(l.Z,{lineID:e,stationName:t})]}),(0,m.jsxs)("div",{className:"lg:p-1",children:[(0,m.jsx)(x,{lineID:e,stationName:t}),(0,m.jsx)(y,{lineID:e,stationName:t})]})]})}}}]);
//# sourceMappingURL=964.7fa16282.chunk.js.map