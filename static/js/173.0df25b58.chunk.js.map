{"version":3,"file":"static/js/173.0df25b58.chunk.js","mappings":"yNA0LA,IAnLA,SAAkBA,GAAkC,IAA/BC,EAAMD,EAANC,OAAQC,EAAWF,EAAXE,YACrBC,GADuCH,EAALI,MACtBF,GAGlBG,GAAkCC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAvCI,EAASF,EAAA,GAAEG,EAAYH,EAAA,GAC9BI,GAA4BL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAjCE,EAAMD,EAAA,GAAEE,EAASF,EAAA,GAsFxB,IApFAG,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,EAAOC,GAAG,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAR,EAAAA,EAAAA,KAAAS,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEDC,MAAMV,GAAK,KAAD,EAAnB,OAARC,EAAQM,EAAAI,KAAAJ,EAAAE,KAAA,EACKR,EAASW,OAAO,KAAD,EAA5BV,EAAIK,EAAAI,KAGoB,KAFxBR,EAAiBD,EAAKC,eAAeD,MAExBW,QAAiBV,EAAeW,OAAM,SAAAC,GAAK,OAAIA,EAAMC,aAAa,KAG7EZ,EAAY,GAClBD,EAAec,SAAQ,SAAAF,GACrB,GAAIG,EAAAA,EAAUC,MAAMC,SAASL,EAAMM,QAAS,CAC1C,IAAMC,EAAwBC,EAAUC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,QAAUX,EAAMY,YAAYC,YAAYC,MAAM,KAAKC,KAAK,IAE1H,GAAIR,EAAuB,CACzB,IAAMS,EAAWT,EAAsBU,MAClC5B,EAAUgB,SAASW,IACtB3B,EAAU6B,KAAKF,EAEnB,CACF,CACF,IAEI3B,EAAUS,OAAS,GACfR,EAAgBD,EAAU8B,KAAI,SAAAH,GAClC,IAAMI,EAAM,2DAAAC,OAA8DzD,EAAM,0BAAAyD,OAAyBvD,EAAS,uBAAAuD,OAAsBL,EAAQ,aAEhJ,OADAM,QAAQC,IAAIH,GACLzB,MAAMyB,GAAQI,MAAK,SAAAtC,GAAQ,OAAIA,EAASW,MAAM,GACvD,IAEF4B,QAAQC,IAAIpC,GAAekC,MAAK,SAAAG,GAC9B,IAAIC,EAAyBD,EAAQE,QAAO,SAACC,EAAUC,EAAQC,GAC7D,GAAID,GAAUA,EAAO3C,gBAAkB2C,EAAO3C,eAAeD,KAAM,CACjE,IAAM6B,EAAW3B,EAAU2C,GACrBnE,GAAcoE,EAAAA,EAAAA,IAA0BjB,GAM9C,OALAe,EAAO3C,eAAeD,KAAKe,SAAQ,SAAAF,GAC5BA,EAAMC,gBACTD,EAAMC,cAAgBpC,EAE1B,IACOiE,EAAST,OAAOU,EAAO3C,eAAeD,KAC/C,CACA,OAAO2C,CACT,GAAG,IAGHF,EAAuBM,MAAK,SAACC,EAAGC,GAAC,OAAKC,SAASF,EAAEG,MAAQD,SAASD,EAAEE,KAAK,IAQzEV,EAAyBA,EAAuBW,QAC9C,SAACC,EAAOR,EAAOS,GAAI,OAAKA,EAAKC,WAAU,SAAAC,GAAG,OANvBC,EAMuCD,EANjCE,EAMsCL,EALxDM,KAAKC,UAAUH,KAAUE,KAAKC,UAAUF,GAD7B,IAACD,EAAMC,CAM4C,MAAMb,CAAK,IAGlF3D,EAAauD,GACbnD,EAAUU,EAAK6D,aACf,MAEA3E,EAAae,GACbX,EAAUU,EAAK6D,gBAxDjBvE,EAAU,+BA0DXe,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAyD,GAAAzD,EAAA,kCAAAA,EAAA0D,OAAA,GAAAlE,EAAA,mBAIJ,gBArEcmE,GAAA,OAAAvE,EAAAwE,MAAA,KAAAC,UAAA,KAuETpE,EAAG,8DAAAoC,OAAiEzD,EAAM,0BAAAyD,OAAyBvD,EAAS,aAClHwD,QAAQC,IAAItC,GACZN,EAAUM,GAEV,IAAMqE,EAAaC,aAAY,WAC7B5E,EAAUM,EACZ,GAAG,KAEH,OAAO,kBAAMuE,cAAcF,EAAY,CACzC,GAAG,CAAC1F,EAAQE,IAGG,gCAAXU,EACF,OAAOiF,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAE,IAAAtC,OAAMzD,EAAM,KAAAyD,OAAIvD,GAAY8F,UAACH,EAAAA,EAAAA,KAAA,OAAKI,UAAU,kMAAiMD,UAACH,EAAAA,EAAAA,KAAA,KAAGI,UAAU,gBAAeD,SAAC,2CAI5R,GAAyB,IAArBxF,EAAU0B,OACZ,OACE2D,EAAAA,EAAAA,KAAA,OAAKI,UAAU,8CAA6CD,UAC1DE,EAAAA,EAAAA,MAAA,OAAKD,UAAU,8IAA6ID,SAAA,EAC1JH,EAAAA,EAAAA,KAAA,OAAKM,KAAK,SAASC,MAAM,+IAA8IJ,UACrKH,EAAAA,EAAAA,KAAA,OAAKO,MAAM,2CAA2C,cAAY,OAAOC,MAAM,6BAA6BC,KAAK,eAAeC,QAAQ,YAAWP,UACjJH,EAAAA,EAAAA,KAAA,QAAMW,EAAE,sSAIZN,EAAAA,EAAAA,MAAA,OAAKD,UAAU,YAAWD,SAAA,EACxBH,EAAAA,EAAAA,KAAA,OAAKO,MAAM,wFACXP,EAAAA,EAAAA,KAAA,OAAKO,MAAM,0EAGbF,EAAAA,EAAAA,MAAA,OAAKD,UAAU,yCAAwCD,SAAA,EACrDH,EAAAA,EAAAA,KAAA,OAAKO,MAAM,4FACXP,EAAAA,EAAAA,KAAA,OAAKO,MAAM,6FAQrB,IAAMK,EAAgB,CAAC,EASvB,OARAjG,EAAU8B,SAAQ,SAACF,GACjB,IAAMsE,EAAOtE,EAAMsE,MAAQ,QACtBD,EAAcC,KACjBD,EAAcC,GAAQ,IAExBD,EAAcC,GAAMpD,KAAKlB,EAC3B,KAGEyD,EAAAA,EAAAA,KAAA,OAAKI,UAAU,gCAA+BD,SAC3CW,OAAOC,KAAKH,GAAelD,KAAI,SAACmD,GAAI,OACnCR,EAAAA,EAAAA,MAAA,OAAAF,SAAA,CACY,UAATU,IACCb,EAAAA,EAAAA,KAAA,MAAII,UAAU,yBAAwBD,SAC1B,MAATU,EAAe,GAAK,iBAGxBD,EAAcC,GAAMnD,KAAI,SAACnB,EAAOgC,GAAK,OAEpCyB,EAAAA,EAAAA,KAACC,EAAAA,GAAI,CAACC,GAAE,IAAAtC,OAAMzD,EAAM,KAAAyD,OAAIvD,GAAY8F,UACpCE,EAAAA,EAAAA,MAAA,OAEED,UAAU,4HACVY,MAAO,CAACC,aAAa,cAADrD,QAAgBsD,EAAAA,EAAAA,IAAqB/G,KAAWgG,SAAA,EAEpEE,EAAAA,EAAAA,MAAA,OAAKD,UAAU,WAAUD,SAAA,EACvBH,EAAAA,EAAAA,KAACmB,EAAAA,GAAgB,CAAChH,OAAQA,EAAQiG,UAAU,8BAC5CJ,EAAAA,EAAAA,KAAA,MAAII,UAAU,0EAAyED,UAAEiB,EAAAA,EAAAA,IAAmB7E,EAAM8E,mBAEpHrB,EAAAA,EAAAA,KAAA,OAAKI,UAAU,4BAA2BD,UACxCH,EAAAA,EAAAA,KAAA,MAAII,UAAU,6DAA4DD,UAAEiB,EAAAA,EAAAA,IAAmB7E,EAAMC,oBAEvGwD,EAAAA,EAAAA,KAAA,OAAKI,UAAU,+BAA8BD,SAC3B,YAAf5D,EAAM+E,MACHtB,EAAAA,EAAAA,KAAA,KAAGI,UAAU,0FAAyFD,SAAE5D,EAAMgF,YAEhHlB,EAAAA,EAAAA,MAAAmB,EAAAA,SAAA,CAAArB,SAAA,EACEE,EAAAA,EAAAA,MAAA,KAAGD,UAAS,mEAAAxC,OAAoF,MAAfrB,EAAMsC,KAAe,gBAAkB,IAAKsB,SAAA,CAAE5D,EAAMsC,MAAKmB,EAAAA,EAAAA,KAAA,QAAMI,UAAU,qBAAoBD,SAAC,2BAC/KH,EAAAA,EAAAA,KAAA,KAAGI,UAAU,8DAA6DD,SAAE,IAAIsB,KAAKA,KAAKC,MAAmE,KAA3C,YAAfnF,EAAM+E,KAAqB/E,EAAMgF,SAAWhF,EAAMsC,OAAe8C,mBAAmB,GAAI,CAAEC,KAAM,UAAWC,OAAQ,oBAI5N7B,EAAAA,EAAAA,KAAA,OACEI,UAAU,+GACVY,MAAO,CACLc,gBAAgB,+CAADlE,OAAiDgB,UAASsC,EAAAA,EAAAA,IAAqB/G,GAAQ4H,MAAM,EAAG,GAAI,IAAG,MAAAnE,OAAKgB,UAASsC,EAAAA,EAAAA,IAAqB/G,GAAQ4H,MAAM,EAAG,GAAI,IAAG,MAAAnE,OAAKgB,UAASsC,EAAAA,EAAAA,IAAqB/G,GAAQ4H,MAAM,EAAG,GAAI,IAAG,gBAxB3OxF,EAAMsC,KAAON,IA4Bb,MAtCDsC,EAwCJ,KAId,C,wRC4EA,MAxPA,SAAuB3G,GAAmB,IAAhB8H,EAAW9H,EAAX8H,YACtBzH,GAAkCC,EAAAA,EAAAA,UAAS,CAAC,GAAEC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAvC0H,EAASxH,EAAA,GAAEyH,EAAYzH,EAAA,GASxB0H,EAAiBH,EAAYI,SAAS1E,KAAI,SAAC2E,EAAS9D,GAAW,IAAD+D,EAAAC,EAAAC,EAAAC,EAAAC,EAC1DC,GAA6B,QAAfL,EAAAD,EAAQO,eAAO,IAAAN,OAAA,EAAfA,EAAiBK,YAAYjF,KAAI,SAAAvC,GAAA,IAAA0H,GAAAnI,EAAAA,EAAAA,GAAAS,EAAA,GAAE2H,EAAGD,EAAA,GAAK,MAAM,CAANA,EAAA,GAAYC,EAAI,MAAK,GAIpF,MAAO,CACHvE,MAAAA,EACAoE,YAAAA,EACAI,MANUV,EAAQW,sBAAwBX,EAAQW,qBAAqBD,MAAK,IAAAnF,OAAOyE,EAAQW,qBAAqBD,OAAU,UAO1HE,eANmBN,EAAY,IAAM,KAOrCO,UAAsC,QAA5BX,EAAAF,EAAQW,4BAAoB,IAAAT,OAAA,EAA5BA,EAA8BjB,OAAI,QAAA1D,OAAYW,EAAQ,GAChEpE,OAAwB,QAAlBqI,EAAEH,EAAQc,MAAM,UAAE,IAAAX,OAAA,EAAhBA,EAAkBY,GAC1BC,KAAMhB,EAAQgB,KACdnD,GAAImC,EAAQnC,GACZoD,UAAsC,QAA5Bb,EAAAJ,EAAQW,4BAAoB,IAAAP,OAAA,EAA5BA,EAA8Bc,YAAa,UACrDC,MAAkC,QAA5Bd,EAAAL,EAAQW,4BAAoB,IAAAN,OAAA,EAA5BA,EAA8Be,kBAAmBpB,EAAQmB,KAC/DE,gBAAiBrB,EAAQqB,gBAAkBrB,EAAQqB,gBAAgB3B,MAAM,GAAI,GAAK,GAClF4B,wBAAyBtB,EAAQsB,wBACjCC,UAAW,IAAInC,KAAKY,EAAQwB,oBAAoBC,QAAQ,8CAA+C,sBAAsBnC,mBAAmB,GAAI,CAAEC,KAAM,UAAWC,OAAQ,YAC/KkC,QAAS,IAAItC,KAAKY,EAAQ2B,kBAAkBF,QAAQ,8CAA+C,sBAAsBnC,mBAAmB,GAAI,CAAEC,KAAM,UAAWC,OAAQ,YAC3KoC,SAAUC,KAAKC,MAAM9B,EAAQ4B,SAAW,IAEhD,IAEMG,EAAKjC,EAAe,GAAGQ,YAAY,GAAG,IAAOR,EAAe,GAAGQ,YAAY,GAAG,GAAKR,EAAeA,EAAe9F,OAAS,GAAGsG,YAAY,GAAG,IAAM,EAClJ0B,EAAKlC,EAAe,GAAGQ,YAAY,GAAG,IAAOR,EAAe,GAAGQ,YAAY,GAAG,GAAKR,EAAeA,EAAe9F,OAAS,GAAGsG,YAAY,GAAG,IAAM,EAClJ2B,EAAWJ,KAAKK,KAAKH,EAAKA,EAAKC,EAAKA,GACpCG,EAAON,KAAKC,MAAM,EAAID,KAAKpG,IAAIwG,GAAYJ,KAAKpG,IAAI,IAEpD2G,EAAkB,WACpB,IAAM/G,GAAMgH,EAAAA,EAAAA,MAqBZ,OAnBAzJ,EAAAA,EAAAA,YAAU,WACN,IAAM0J,EAAU,IAAIC,IAAAA,SAAU,CAAEC,SAAU,gBAe1C,OAbAF,EAAQG,MAAQ,WACZ,IAAMC,EAASH,IAAAA,QAAUI,OAAO,SAAU,sDAO1C,OANAD,EAAOE,UAAY,+QACnBF,EAAO/D,MAAMkE,QAAU,0DACvBH,EAAOI,QAAU,kBAAMzH,EAAI0H,MAAM,EAC5BjD,EAAe,GAAGQ,YAAY,GAAG,GAAKR,EAAeA,EAAe9F,OAAS,GAAGsG,YAAY,GAAG,IAAM,GACrGR,EAAe,GAAGQ,YAAY,GAAG,GAAKR,EAAeA,EAAe9F,OAAS,GAAGsG,YAAY,GAAG,IAAM,GACvG6B,EAAM,EACFO,CACX,EAEAJ,EAAQU,MAAM3H,GAEP,kBAAMiH,EAAQW,QAAS,CAClC,GAAG,CAAC5H,IAEG,IACX,EAEA,OACI2C,EAAAA,EAAAA,MAAA,OAAKD,UAAU,oBAAmBD,SAAA,CAC7BgC,EAAe9F,OAAS,IACrB2D,EAAAA,EAAAA,KAAA,OAAAG,UACIE,EAAAA,EAAAA,MAACkF,EAAAA,EAAY,CACTnF,UAAU,YACVoF,OAAQ,EACHrD,EAAe,GAAGQ,YAAY,GAAG,GAAKR,EAAeA,EAAe9F,OAAS,GAAGsG,YAAY,GAAG,IAAM,GACrGR,EAAe,GAAGQ,YAAY,GAAG,GAAKR,EAAeA,EAAe9F,OAAS,GAAGsG,YAAY,GAAG,IAAM,GAE1G6B,KAAMA,EACNiB,oBAAoB,EACpBC,aAAa,EAAMvF,SAAA,EAEnBH,EAAAA,EAAAA,KAAC2F,EAAAA,EAAS,CAACnK,IAAI,oEACfwE,EAAAA,EAAAA,KAACyE,EAAe,IAEftC,EAAezE,KAAI,SAAC2E,EAASuD,GAAG,OAC7BvF,EAAAA,EAAAA,MAACwF,EAAAA,SAAc,CAAA1F,SAAA,EACXH,EAAAA,EAAAA,KAAC8F,EAAAA,EAAQ,CAACC,UAAW1D,EAAQM,YAAaI,MAAOV,EAAQU,MAAOiD,UAA4B,YAAjB3D,EAAQmB,KAAqB,OAAS,OAEhHnB,EAAQM,YAAY,IAAMN,EAAQ4B,SAAW,IAC1CjE,EAAAA,EAAAA,KAAAwB,EAAAA,SAAA,CAAArB,SACKkC,EAAQlI,SACL6F,EAAAA,EAAAA,KAACiG,EAAAA,EAAM,CACHpB,SAAUxC,EAAQM,YAAY,GAC9BuD,KAAMtB,IAAAA,QAAU,CACZxE,UAAW,cACX+F,KAAMC,EAAAA,gBAA8BpG,EAAAA,EAAAA,KAACmB,EAAAA,GAAgB,CAAChH,OAAQkI,EAAQlI,OAAOkD,MAAM,KAAKC,MAAO8C,UAAU,SACzGiG,SAAU,CAAC,IACXC,WAAY,CAAC,GAAI,IACjBC,YAAa,CAAC,GAAI,YAbrBX,EAmBJ,SAMhCzD,EAAezE,KAAI,SAAC2E,EAAS9D,GAAW,IAADiI,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAC9BC,EAAmBjF,EAAQgB,MAAQhB,EAAQnC,KAAkB,QAAZsG,EAAAnE,EAAQgB,YAAI,IAAAmD,GAAY,QAAZC,EAAZD,EAAce,kBAAU,IAAAd,GAAW,QAAXC,EAAxBD,EAA0Be,iBAAS,IAAAd,OAAvB,EAAZA,EAAqCe,SAAmB,QAAfd,EAAKtE,EAAQnC,UAAE,IAAAyG,GAAY,QAAZC,EAAVD,EAAYY,kBAAU,IAAAX,GAAW,QAAXC,EAAtBD,EAAwBY,iBAAS,IAAAX,OAAvB,EAAVA,EAAmCY,MAClIC,GAAiBrF,EAAQgB,OAAShB,EAAQnC,IAAMmC,EAAQ4B,SACxDlB,EAAQV,EAAQU,MAEtB,MAAqB,YAAjBV,EAAQmB,MAA2C,IAArBnB,EAAQ4B,SAC/B,MAIP5D,EAAAA,EAAAA,MAAA,OAAyBD,UAAU,6BAA4BD,SAAA,EAC3DE,EAAAA,EAAAA,MAAA,OAAKD,UAAU,0CAAyCD,SAAA,CAAC,gCAA4BH,EAAAA,EAAAA,KAAA,OACjFgB,MAAO,CACH2G,WAA6B,YAAjBtF,EAAQmB,WAAuCoE,IAAjBvF,EAAQmB,KAAkB,mBAAA5F,OAC3CmF,EAAK,0BACxBA,EACN8E,eAAgB,YAEpBzH,UAAU,oCAEVC,EAAAA,EAAAA,MAAA,OAAKD,UAAU,0DAAyDD,SAAA,MAClDyH,IAAjBvF,EAAQmB,MAAuB8D,GAM5BtH,EAAAA,EAAAA,KAAA,OAAKQ,MAAM,6BAA6BE,QAAQ,YAAYN,UAAU,cAAaD,UAC/EH,EAAAA,EAAAA,KAAA,QAAMS,KAAK,OAAOqH,OAAO,OAAO,eAAa,MAAMnH,EAAE,mEANzDX,EAAAA,EAAAA,KAAA,OACI+H,IAAKC,kBAAsB,WAAApK,QAAcqK,EAAAA,EAAAA,IAAqB5F,EAAQmB,MAAK,QAC3E0E,KAAKD,EAAAA,EAAAA,IAAqB5F,EAAQmB,MAClCpD,UAAU,yBAMjBiC,EAAQlI,SAML6F,EAAAA,EAAAA,KAACmB,EAAAA,GAAgB,CAAChH,OAAQkI,EAAQlI,OAAOkD,MAAM,KAAKC,MAAO8C,UAAU,uBAKjFJ,EAAAA,EAAAA,KAAA,OAAKI,UAAU,mBAAkBD,SAC5BmH,GACGjH,EAAAA,EAAAA,MAAA,KAAGD,UAAU,UAASD,SAAA,CAAEkC,EAAQ4B,SAAS,gCACzCyD,GACArH,EAAAA,EAAAA,MAAA,KAAGD,UAAU,UAASD,SAAA,CAAEkC,EAAQ4B,SAAS,yBAEzC5D,EAAAA,EAAAA,MAAAmB,EAAAA,SAAA,CAAArB,SAAA,EACIE,EAAAA,EAAAA,MAAA,OAAAF,SAAA,EACIE,EAAAA,EAAAA,MAAA,OAAKD,UAAU,iCAAgCD,SAAA,EAC3CH,EAAAA,EAAAA,KAAA,KAAAG,UAAgB,QAAZ2G,EAAAzE,EAAQgB,YAAI,IAAAyD,GAAY,QAAZC,EAAZD,EAAcS,kBAAU,IAAAR,GAAW,QAAXC,EAAxBD,EAA0BS,iBAAS,IAAAR,OAAvB,EAAZA,EAAqCS,QAAoB,QAAhBR,EAAI5E,EAAQgB,YAAI,IAAA4D,OAAA,EAAZA,EAAcQ,SAC/DzH,EAAAA,EAAAA,KAAA,KAAAG,SAAIkC,EAAQuB,eAEM,YAArBvB,EAAQiB,WACLjD,EAAAA,EAAAA,MAAA,OAAKD,UAAU,4BAA2BD,SAAA,EACtCH,EAAAA,EAAAA,KAAA,OAAKI,UAAU,eAAe,cAAY,OAAOI,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,YAAWP,UAC/GH,EAAAA,EAAAA,KAAA,QAAM8H,OAAO,eAAe,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAInH,EAAE,8BAEjG0B,EAAQiB,eAIH,YAAjBjB,EAAQmB,WAAuCoE,IAAjBvF,EAAQmB,OACnCxD,EAAAA,EAAAA,KAACmI,EAAAA,EAAS,CACNhO,OAAQkI,EAAQlI,OAAOkD,MAAM,KAAKC,MAClClD,YACK,WACG,IACI,IAAI6C,EAAWF,EAAUC,MAAK,SAAAC,GAAQ,OAAIA,EAASmL,OAAOlL,QAAUmF,EAAQgB,KAAKD,GAAG/F,MAAM,KAAKC,KAAK,IAKpG,OAJAO,QAAQC,IAAIb,GACPA,IACDA,EAAWF,EAAUC,MAAK,SAAAC,GAAQ,OAAIA,EAASmL,OAAOC,QAAUhG,EAAQgB,KAAKD,GAAG/F,MAAM,KAAKC,KAAK,KAE7FL,EAAWA,EAASmL,OAAO5K,MAAQ,EAC9C,CAAE,MAAO8K,GAEL,OADAzK,QAAQyK,MAAM,yBAA0BA,GACjC,EACX,CACJ,CAZC,GAcLhO,MAAO,IAGd+H,EAAQsB,0BACLtD,EAAAA,EAAAA,MAAA,OAAAF,SAAA,EACIE,EAAAA,EAAAA,MAAA,OAAKD,UAAU,4BAA2BD,SAAA,EACtCH,EAAAA,EAAAA,KAAA,OAAKI,UAAU,eAAe,cAAY,OAAOI,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,YAAWP,UAC/GH,EAAAA,EAAAA,KAAA,QAAM8H,OAAO,eAAe,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAInH,EAAE,8BAC5F,kCAGVX,EAAAA,EAAAA,KAAA,OAAKI,UAAU,gBAAeD,SACzB,CAAC,OAAQ,SAAU,SAASzC,KAAI,SAAC6K,EAAKhK,GACnC,IACMwE,EADaV,EAAQsB,wBAAwB/G,SAAS2L,GACpC,IAAA3K,QAAOsD,EAAAA,EAAAA,IAAqBmB,EAAQlI,OAAOkD,MAAM,KAAKC,QAAW,UACzF,OACI0C,EAAAA,EAAAA,KAAA,OAAiBI,UAAU,kCAAkCY,MAAO,CAAEwH,gBAAiBzF,IAA7ExE,EAGlB,UAIZ8B,EAAAA,EAAAA,MAAA,OAAKD,UAAU,oDAAmDD,SAAA,EAC9DE,EAAAA,EAAAA,MAAA,KAAAF,SAAA,CAAIkC,EAAQqB,gBAAgBrH,OAAS,EAAE,gBAAWgG,EAAQ4B,SAAS,WAEnEjE,EAAAA,EAAAA,KAAA,UAAQyI,QAAS,kBAlNhCC,EAkNkDrG,EAAQe,QAjN3ElB,GAAa,SAAAyG,GAAS,OAAAC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUD,GAAS,IAAAE,EAAAA,EAAAA,GAAA,GAAGH,GAAaC,EAAUD,IAAU,IAD7D,IAACA,CAkN6D,EAACvI,SAC1C8B,GACGjC,EAAAA,EAAAA,KAAA,OAAKO,MAAM,UAAU,cAAY,OAAOC,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,WAAUP,UACrGH,EAAAA,EAAAA,KAAA,QAAM8H,OAAO,eAAe,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAInH,EAAE,gDAGlGX,EAAAA,EAAAA,KAAA,OAAKO,MAAM,UAAU,cAAY,OAAOC,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,WAAUP,UACrGH,EAAAA,EAAAA,KAAA,QAAM8H,OAAO,eAAe,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAInH,EAAE,sDAK7GsB,EAAUI,EAAQe,MACfpD,EAAAA,EAAAA,KAAA,MAAAG,SACKkC,EAAQqB,gBAAgBhG,KAAI,SAAC+B,EAAMlB,GAAK,OACrCyB,EAAAA,EAAAA,KAAA,MAAAG,SAAiBV,EAAK8H,WAAWE,MAAxBlJ,EAAkC,OAIvD8B,EAAAA,EAAAA,MAAA,OAAKD,UAAU,iCAAgCD,SAAA,EAC3CH,EAAAA,EAAAA,KAAA,KAAAG,UAAc,QAAV+G,EAAA7E,EAAQnC,UAAE,IAAAgH,GAAY,QAAZC,EAAVD,EAAYK,kBAAU,IAAAJ,GAAW,QAAXC,EAAtBD,EAAwBK,iBAAS,IAAAJ,OAAvB,EAAVA,EAAmCK,QAAkB,QAAdJ,EAAIhF,EAAQnC,UAAE,IAAAmH,OAAA,EAAVA,EAAYI,SAC3DzH,EAAAA,EAAAA,KAAA,KAAAG,SAAIkC,EAAQ0B,oBAtHtB1B,EAAQ9D,MA6H1B,MAIZ,E,mBCxIA,MAnHA,WACI,IAAIuK,EAAS,IAAIC,iBAAgBC,EAAAA,EAAAA,MAAcC,QAC3C5F,EAAOyF,EAAOI,IAAI,QAClBhJ,EAAK4I,EAAOI,IAAI,MAEpB3O,GAAkCC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAvCI,EAASF,EAAA,GAAEG,EAAYH,EAAA,GAC9BI,GAA8CL,EAAAA,EAAAA,UAAS,MAAKM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAArDsO,EAAerO,EAAA,GAAEsO,EAAkBtO,EAAA,GACpCuO,GAAoBC,EAAAA,EAAAA,QAAO,MAwCjC,OAtCArO,EAAAA,EAAAA,YAAU,WACN,IAAMsO,EAAa,eAAArP,GAAAkB,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAE,EAAAC,EAAA,OAAAL,EAAAA,EAAAA,KAAAS,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACKC,MAAM,8EAAD0B,OAA+EyF,EAAI,QAAAzF,OAAOsC,GAAM,CACxHsJ,QAAS,CACL,OAAUxB,sCAEf,KAAD,EAJY,OAARvM,EAAQM,EAAAI,KAAAJ,EAAAE,KAAA,EAKKR,EAASW,OAAO,KAAD,EAA5BV,EAAIK,EAAAI,KACV0B,QAAQC,IAAIpC,GACZd,EAAac,EAAK+N,SAAW/N,EAAK+N,SAAW,IAAI,wBAAA1N,EAAA0D,OAAA,GAAAlE,EAAA,KACpD,kBATkB,OAAArB,EAAAyF,MAAA,KAAAC,UAAA,KAWnB2J,GACJ,GAAG,KAEHtO,EAAAA,EAAAA,YAAU,WACFkO,GAAmBE,EAAkBK,SACrCL,EAAkBK,QAAQC,eAAe,CAAEC,SAAU,UAE7D,GAAG,CAACT,KAoBAnJ,EAAAA,EAAAA,KAAA,OAAAG,SACKxF,EAAU0B,OAAS,GAChBgE,EAAAA,EAAAA,MAAA,OAAAF,SAAA,CACKxF,EAAU+C,KAAI,SAACmM,EAAStL,GACrB,IAVAuL,EAUMC,EAjBH,SAACC,GACpB,IAAMC,EAAQ/F,KAAKC,MAAM6F,EAAU,MAC7BE,EAAUhG,KAAKC,MAAO6F,EAAU,KAAQ,IAC9C,OAAiB,IAAVC,EAAW,GAAArM,OAAMsM,EAAO,WAAAtM,OAAYqM,EAAK,OAAArM,OAAMsM,EAAO,OACjE,CAa0CC,CAAeN,EAAQO,UAAUC,OACjDC,GAXNR,EAW6BD,EAAQC,MAV3CS,MACJ,GAAN3M,QAAWkM,EAAKO,MAAMtL,MAAQ,KAAKyL,QAAQ,GAAE,KAAA5M,OAA4B,YAAxBkM,EAAKO,MAAMI,SAAyB,MAAQX,EAAKO,MAAMI,UADhF,gBAWFC,EAAgB,IAAIjJ,KAAK,IAAIA,KAAKoI,EAAQhG,oBAAoBC,QAAQ,8CAA+C,uBAAuB6G,UAAY,MAAgBhJ,mBAAmB,GAAI,CAAEC,KAAM,UAAWC,OAAQ,YAC1N+I,EAAc,IAAInJ,KAAK,IAAIA,KAAKoI,EAAQ7F,kBAAkBF,QAAQ,8CAA+C,uBAAuB6G,UAAY,MAAgBhJ,mBAAmB,GAAI,CAAEC,KAAM,UAAWC,OAAQ,YAC5N,OACIxB,EAAAA,EAAAA,MAAA,OAEID,UAAS,8EAAAxC,OAAgFuL,IAAoBU,EAAU,oBAAsB,IAC7IpB,QAAS,kBA9BT,SAACoB,GACzBT,EAAmBS,EACvB,CA4B2CgB,CAAoBhB,EAAQ,EAAC1J,SAAA,CAC/C,oCAAgCH,EAAAA,EAAAA,KAAA,OAAKI,UAAU,4BAA2BD,SAClE0J,EAAQzH,SAAS1E,KAAI,SAAC2E,EAASuD,GAAG,IAAArD,EAAAE,EAAAC,EAAAF,EAAAsI,EAAAC,EAAAC,EAAA,OAC/BhL,EAAAA,EAAAA,KAAC6F,EAAAA,SAAc,CAAA1F,UACXE,EAAAA,EAAAA,MAAA,OAAKD,UAAU,mCAAkCD,SAAA,EAChB,QAA5BoC,EAAAF,EAAQW,4BAAoB,IAAAT,GAA5BA,EAA8BkB,iBAAmBpB,EAAQmB,QACrC,YAAjBnB,EAAQmB,MAAwC,YAAjBnB,EAAQmB,MAAsBnB,EAAQ4B,UAAY,KAC7EjE,EAAAA,EAAAA,KAAA,OAAK+H,IAAKC,kBAAsB,WAAApK,QAAcqK,EAAAA,EAAAA,KAAiD,QAA5BxF,EAAAJ,EAAQW,4BAAoB,IAAAP,OAAA,EAA5BA,EAA8BgB,kBAAmBpB,EAAQmB,OAAK5F,OAA0B,SAAvBqN,aAAaC,MAAmB,SAAW,GAAE,QAAQhD,KAAKD,EAAAA,EAAAA,IAAiD,QAA7BvF,EAACL,EAAQW,4BAAoB,IAAAN,OAAA,EAA5BA,EAA8Be,iBAAkBrD,UAAU,gBAEjR,KACa,QAAhBoC,EAAAH,EAAQc,MAAM,UAAE,IAAAX,GAAhBA,EAAkBY,IAEfpD,EAAAA,EAAAA,KAACmB,EAAAA,GAAgB,CAAChH,OAAwB,QAAlB2Q,EAAEzI,EAAQc,MAAM,UAAE,IAAA2H,OAAA,EAAhBA,EAAkB1H,GAAG/F,MAAM,KAAKC,MAAO8C,UAAU,gBAE3E,KACHwF,EAAMiE,EAAQzH,SAAS/F,OAAS,KAAkC,QAA5B0O,EAAA1I,EAAQW,4BAAoB,IAAA+H,OAAA,EAA5BA,EAA8BtH,kBAAmBpB,EAAQmB,OAAwB,QAApBwH,EAAI3I,EAAQc,MAAM,UAAE,IAAA6H,OAAA,EAAhBA,EAAkB5H,QACrG,YAAjBf,EAAQmB,MAAwC,YAAjBnB,EAAQmB,MAAsBnB,EAAQ4B,UAAY,KAC7E2B,IAAQiE,EAAQzH,SAAS/F,OAAS,GAC9B2D,EAAAA,EAAAA,KAAA,OAAKI,UAAU,iBAAiB,cAAY,OAAOI,MAAM,6BAA6BC,KAAK,OAAOC,QAAQ,WAAUP,UAChHH,EAAAA,EAAAA,KAAA,QAAM8H,OAAO,eAAeqD,cAAc,QAAQC,eAAe,QAAQC,YAAY,IAAI1K,EAAE,iDAGnG,UAnBKiF,EAsBJ,OAGzBvF,EAAAA,EAAAA,MAAA,OAAKD,UAAU,oCAAmCD,SAAA,EAC9CH,EAAAA,EAAAA,KAAA,KAAGI,UAAU,UAASD,SAAEmK,KACxBjK,EAAAA,EAAAA,MAAA,OAAKD,UAAU,aAAYD,SAAA,EACvBH,EAAAA,EAAAA,KAAA,KAAAG,UAAGH,EAAAA,EAAAA,KAAA,UAAAG,SAAS4J,OACZ1J,EAAAA,EAAAA,MAAA,KAAGD,UAAU,UAASD,SAAA,CAAEuK,EAAc,MAAIE,aAlC7CrM,EAuCjB,IAEC4K,IACGnJ,EAAAA,EAAAA,KAAA,OAAKsL,IAAKjC,EAAkBlJ,UACxBH,EAAAA,EAAAA,KAACuL,EAAc,CAAkBvJ,YAAamH,GAAzB1H,KAAKC,aAKtC1B,EAAAA,EAAAA,KAAA,OAAKI,UAAU,mCAAmCY,MAAO,CAAEwK,OAAQ,uBAAwBrL,UACvFH,EAAAA,EAAAA,KAACyL,IAAU,CAACC,KAAM,GAAI3I,MAAM,eAMhD,C","sources":["components/Timing.js","components/JourneyDetails.js","pages/Itineraire.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { Link } from \"react-router-dom\";\r\nimport { removeGareDePrefix } from '../utils/stringUtils';\r\nimport { lineTypes } from '../components/Trafic';\r\nimport relations from '../data/relations.json';\r\nimport { LineLogoByLineID, getLineColorByLineID, getStationNameByStationID  } from '../utils/dataHelpers';\r\n\r\nfunction TrainInfo({ lineID, stationName, limit }) { //to= number=\r\n  const stationID = stationName;\r\n\r\n  // Fetch train departure every 2 seconds\r\n  const [trainData, setTrainData] = useState([]);\r\n  const [status, setStatus] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchData = async (url) => {\r\n      try {\r\n        const response = await fetch(url);\r\n        const data = await response.json();\r\n        const nextDepartures = data.nextDepartures.data;\r\n\r\n        if (nextDepartures.length === 0 || !nextDepartures.every(train => train.lineDirection)) {\r\n          setStatus('NO_REALTIME_SCHEDULES_FOUND');\r\n        } else {\r\n          const zoneAreas = [];\r\n          nextDepartures.forEach(train => {\r\n            if (lineTypes.TRAIN.includes(train.lineId)) { //\r\n              const correspondingRelation = relations.find(relation => relation.arrid === train.destination.stopPointId.split(':').pop());\r\n  \r\n              if (correspondingRelation) {\r\n                const zoneArea = correspondingRelation.zdcid;\r\n                if (!zoneAreas.includes(zoneArea)) {\r\n                  zoneAreas.push(zoneArea);\r\n                }\r\n              }\r\n            }\r\n          });\r\n\r\n          if (zoneAreas.length > 0) {\r\n            const fetchPromises = zoneAreas.map(zoneArea => {\r\n              const newURL = `https://api-iv.iledefrance-mobilites.fr/lines/line:IDFM:${lineID}/stops/stop_area:IDFM:${stationID}/to/stop_area:IDFM:${zoneArea}/realTime`;\r\n              console.log(newURL)\r\n              return fetch(newURL).then(response => response.json());\r\n            });\r\n\r\n          Promise.all(fetchPromises).then(results => {\r\n            let combinedNextDepartures = results.reduce((combined, result, index) => {\r\n              if (result && result.nextDepartures && result.nextDepartures.data) {\r\n                const zoneArea = zoneAreas[index];\r\n                const stationName = getStationNameByStationID(zoneArea);\r\n                result.nextDepartures.data.forEach(train => {\r\n                  if (!train.lineDirection) {\r\n                    train.lineDirection = stationName;\r\n                  }\r\n                });\r\n                return combined.concat(result.nextDepartures.data);\r\n              }\r\n              return combined;\r\n            }, []);\r\n          \r\n            // Sort the combinedNextDepartures array by the time property\r\n            combinedNextDepartures.sort((a, b) => parseInt(a.time) - parseInt(b.time));\r\n          \r\n            // Helper function to check for identical objects\r\n            const isIdentical = (obj1, obj2) => {\r\n              return JSON.stringify(obj1) === JSON.stringify(obj2);\r\n            };\r\n          \r\n            // Remove identical objects from combinedNextDepartures\r\n            combinedNextDepartures = combinedNextDepartures.filter(\r\n              (value, index, self) => self.findIndex(obj => isIdentical(obj, value)) === index\r\n            );\r\n            \r\n            setTrainData(combinedNextDepartures);\r\n            setStatus(data.errorMessage);\r\n            });\r\n          } else {\r\n            setTrainData(nextDepartures);\r\n            setStatus(data.errorMessage);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        // Handle error\r\n      }\r\n    };\r\n\r\n    const url = `https://api-iv.iledefrance-mobilites.fr/lines/v2/line:IDFM:${lineID}/stops/stop_area:IDFM:${stationID}/realTime`;\r\n    console.log(url)\r\n    fetchData(url);\r\n\r\n    const intervalId = setInterval(() => {\r\n      fetchData(url);\r\n    }, 2000);\r\n\r\n    return () => clearInterval(intervalId);\r\n  }, [lineID, stationID]);\r\n\r\n\r\n  if (status === 'NO_REALTIME_SCHEDULES_FOUND') {\r\n    return <Link to={`/${lineID}/${stationID}`}><div className=\"shadow-[inset_0rem_0.2rem_0.4rem_0_rgb(0,0,0,0.1)] flex items-center justify-center text-center text-xs lg:text-base bg-white dark:bg-gray-700 dark:text-gray-200 p-4 mb-3 h-[44px] lg:h-[72px]\"><p className='animate-pulse'>Information en direct indisponible</p></div></Link>;\r\n  }\r\n\r\n  // Display loading animation\r\n  if (trainData.length === 0) {\r\n    return (\r\n      <div className=\"overflow-y-auto max-h-[27rem] animate-pulse\">\r\n        <div className=\"flex items-center bg-white dark:bg-gray-800 shadow-[inset_0rem_0.2rem_0.4rem_0_rgb(0,0,0,0.1)] h-[44px] lg:h-[72px] p-1 lg:p-4 mb-1 lg:mb-3\">\r\n          <div role=\"status\" class=\"flex items-center justify-center w-4 lg:w-10 h-4 lg:h-10 ml-1 lg:ml-0 mr-2 lg:mr-4 p-1 bg-gray-300 rounded-sm lg:rounded-lg dark:bg-gray-700\">\r\n            <svg class=\"w-5 h-5 text-gray-200 dark:text-gray-600\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 20 18\">\r\n              <path d=\"M18 0H2a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2Zm-5.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3Zm4.376 10.481A1 1 0 0 1 16 15H4a1 1 0 0 1-.895-1.447l3.5-7A1 1 0 0 1 7.468 6a.965.965 0 0 1 .9.5l2.775 4.757 1.546-1.887a1 1 0 0 1 1.618.1l2.541 4a1 1 0 0 1 .028 1.011Z\" />\r\n            </svg>\r\n          </div>\r\n\r\n          <div className=\"flex-grow\">\r\n            <div class=\"w-12 lg:w-24 h-1 lg:h-2.5 mb-1 lg:mb-2.5 bg-gray-300 rounded-full dark:bg-gray-600\"></div>\r\n            <div class=\"w-16 lg:w-32 h-1 lg:h-2 bg-gray-200 rounded-full dark:bg-gray-700\"></div>\r\n          </div>\r\n\r\n          <div className=\"ml-2 lg:ml-5 min-w-max pr-2 text-right\">\r\n            <div class=\"w-6 lg:w-12 h-1 lg:h-2.5 mb-1 lg:mb-2.5 mr-1 bg-gray-300 rounded-full dark:bg-gray-700\"></div>\r\n            <div class=\"w-4 lg:w-8 h-1 lg:h-2 mr-1 bg-gray-200 rounded-full float-right dark:bg-gray-700\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Display train departure\r\n  const groupedTrains = {};\r\n  trainData.forEach((train) => {\r\n    const sens = train.sens || 'other';\r\n    if (!groupedTrains[sens]) {\r\n      groupedTrains[sens] = [];\r\n    }\r\n    groupedTrains[sens].push(train);\r\n  });\r\n\r\n  return (\r\n    <div className=\"overflow-y-auto max-h-[27rem]\">\r\n      {Object.keys(groupedTrains).map((sens) => (\r\n        <div key={sens}>\r\n          {sens !== 'other' && (\r\n            <h2 className=\"text-xs font-bold mb-2\">\r\n              {sens === '1' ? '' : 'Direction -1'}\r\n            </h2>\r\n          )}\r\n          {groupedTrains[sens].map((train, index) => (\r\n            // <Link to={`/search?line=${lineID}&stop_area=${stationID}`}>\r\n            <Link to={`/${lineID}/${stationID}`}>\r\n            <div \r\n              key={train.time + index} \r\n              className=\"flex items-center bg-white border-gray-400 dark:text-white dark:bg-gray-800 min-h-[44px] max-h-[72px] p-1 lg:p-4 relative\" \r\n              style={{borderBottom: `2px solid #${getLineColorByLineID(lineID)}`}}\r\n            >\r\n              <div className='shrink-0'>\r\n                <LineLogoByLineID lineID={lineID} className=\"h-4 lg:h-10 pl-1 lg:pl-0\" />\r\n                <h3 className='text-[8px] lg:text-xs justify-center flex mx-auto mt-0.5 pl-0.5 lg:pl-0'>{removeGareDePrefix(train.vehicleName)}</h3>\r\n              </div>\r\n              <div className=\"flex-grow overflow-hidden\">\r\n                <h2 className='font-bold text-[11px] lg:text-lg line-clamp-2 ml-2 lg:ml-4'>{removeGareDePrefix(train.lineDirection)}</h2>\r\n              </div>\r\n              <div className=\"ml-1 lg:ml-5 pr-2 text-right\">\r\n                {train.code === 'message' ? (\r\n                    <p className=\"text-[10px] lg:text-base font-bold text-green-600 dark:text-green-500 whitespace-normal\">{train.schedule}</p>\r\n                ) : (\r\n                  <>\r\n                    <p className={`text-sm lg:text-2xl font-bold text-green-600 dark:text-green-500${train.time === '0' ? 'animate-pulse' : ''}`}>{train.time}<span className=\"text-xs lg:text-lg\">ᵐⁱⁿ</span></p>\r\n                    <p className=\"text-xs lg:text-sm text-right text-gray-400 dark:text-white\">{new Date(Date.now() + (train.code === 'message' ? train.schedule : train.time) * 60000).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}</p>\r\n                  </>\r\n                )}\r\n              </div>\r\n              <div \r\n                className=\"absolute top-0 right-0 bottom-0 left-0 lg:left-0 bg-gradient-to-r from-transparent to-white dark:to-gray-800\" \r\n                style={{\r\n                  backgroundImage: `linear-gradient(to right, transparent, rgba(${parseInt(getLineColorByLineID(lineID).slice(0, 2), 16)}, ${parseInt(getLineColorByLineID(lineID).slice(2, 4), 16)}, ${parseInt(getLineColorByLineID(lineID).slice(4, 6), 16)}, 0.1))`\r\n                }}\r\n              />\r\n            </div>\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TrainInfo;","import React, { useEffect, useState } from 'react';\r\nimport { MapContainer, TileLayer, Polyline, Marker, Popup, useMap } from 'react-leaflet';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\nimport { LatLng } from 'leaflet';\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { convertTransportMode } from '../utils/stringUtils';\r\nimport TrainInfo from '../components/Timing';\r\nimport relations from '../data/relations.json';\r\nimport { getLineColorByLineID, LineLogoByLineID, getTransportByLineID } from '../utils/dataHelpers';\r\nimport ReactDOMServer from 'react-dom/server';\r\n\r\nfunction JourneyDetails({ journeyData }) {\r\n    const [showStops, setShowStops] = useState({});\r\n\r\n    // Toggle showStops for a section\r\n    const toggleStops = (sectionId) => {\r\n        setShowStops(prevState => ({ ...prevState, [sectionId]: !prevState[sectionId] }));\r\n    };\r\n\r\n\r\n    // Extract coordinates and create markers for each section\r\n    const sectionDetails = journeyData.sections.map((section, index) => {\r\n        const coordinates = section.geojson?.coordinates.map(([lng, lat]) => [lat, lng]) || [];\r\n        const color = section.display_informations && section.display_informations.color ? `#${section.display_informations.color}` : '#333333'; // Default to a dark color if not specified\r\n        const markerPosition = coordinates[0] || null; // First coordinate as marker position\r\n\r\n        return {\r\n            index,\r\n            coordinates,\r\n            color,\r\n            markerPosition,\r\n            lineName: section.display_informations?.code || `Line ${index + 1}`,\r\n            lineID: section.links[1]?.id,\r\n            from: section.from,\r\n            to: section.to,\r\n            terminus: section.display_informations?.direction || 'Unknown',\r\n            mode: section.display_informations?.commercial_mode || section.mode,\r\n            stop_date_times: section.stop_date_times ? section.stop_date_times.slice(1, -1) : [],\r\n            best_boarding_positions: section.best_boarding_positions,\r\n            departure: new Date(section.departure_date_time.replace(/(\\d{4})(\\d{2})(\\d{2})T(\\d{2})(\\d{2})(\\d{2})/, \"$1-$2-$3T$4:$5:$6\")).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),\r\n            arrival: new Date(section.arrival_date_time.replace(/(\\d{4})(\\d{2})(\\d{2})T(\\d{2})(\\d{2})(\\d{2})/, \"$1-$2-$3T$4:$5:$6\")).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' }),\r\n            duration: Math.floor(section.duration / 60),\r\n        };\r\n    });\r\n\r\n    const dx = sectionDetails[0].coordinates[0][0] - ((sectionDetails[0].coordinates[0][0] + sectionDetails[sectionDetails.length - 1].coordinates[0][0]) / 2);\r\n    const dy = sectionDetails[0].coordinates[0][1] - ((sectionDetails[0].coordinates[0][1] + sectionDetails[sectionDetails.length - 1].coordinates[0][1]) / 2);\r\n    const distance = Math.sqrt(dx * dx + dy * dy);\r\n    const zoom = Math.floor(8 - Math.log(distance) / Math.log(2));\r\n\r\n    const RecenterControl = () => {\r\n        const map = useMap();\r\n\r\n        useEffect(() => {\r\n            const control = new L.Control({ position: 'bottomright' });\r\n\r\n            control.onAdd = () => {\r\n                const button = L.DomUtil.create('button', 'leaflet-bar leaflet-control leaflet-control-custom');\r\n                button.innerHTML = '<svg class=\"w-4 h-4\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\" viewBox=\"0 0 14 20\"><path d=\"M7 0a7 7 0 0 0-1 13.92V19a1 1 0 1 0 2 0v-5.08A7 7 0 0 0 7 0Zm0 5.5A1.5 1.5 0 0 0 5.5 7a1 1 0 0 1-2 0A3.5 3.5 0 0 1 7 3.5a1 1 0 0 1 0 2Z\"/></svg>';\r\n                button.style.cssText = 'background-color: white; padding: 6px; cursor: pointer;';\r\n                button.onclick = () => map.flyTo([\r\n                    (sectionDetails[0].coordinates[0][0] + sectionDetails[sectionDetails.length - 1].coordinates[0][0]) / 2,\r\n                    (sectionDetails[0].coordinates[0][1] + sectionDetails[sectionDetails.length - 1].coordinates[0][1]) / 2\r\n                ], zoom);\r\n                return button;\r\n            };\r\n\r\n            control.addTo(map);\r\n\r\n            return () => control.remove();\r\n        }, [map]);\r\n\r\n        return null;\r\n    };\r\n\r\n    return (\r\n        <div className=\"max-w-4xl mx-auto\">\r\n            {sectionDetails.length > 0 && (\r\n                <div>\r\n                    <MapContainer\r\n                        className=\"z-10 h-96\"\r\n                        center={[\r\n                            (sectionDetails[0].coordinates[0][0] + sectionDetails[sectionDetails.length - 1].coordinates[0][0]) / 2,\r\n                            (sectionDetails[0].coordinates[0][1] + sectionDetails[sectionDetails.length - 1].coordinates[0][1]) / 2\r\n                        ]}\r\n                        zoom={zoom}\r\n                        attributionControl={false}\r\n                        zoomControl={false}\r\n                    >\r\n                        <TileLayer url=\"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png\" />\r\n                        <RecenterControl />\r\n\r\n                        {sectionDetails.map((section, idx) => (\r\n                            <React.Fragment key={idx}>\r\n                                <Polyline positions={section.coordinates} color={section.color} dashArray={section.mode === 'walking' ? '5, 5' : null}\r\n                                />\r\n                                {section.coordinates[0] && section.duration > 1 && (\r\n                                    <>\r\n                                        {section.lineID && (\r\n                                            <Marker\r\n                                                position={section.coordinates[0]}\r\n                                                icon={L.divIcon({\r\n                                                    className: 'my-div-icon',\r\n                                                    html: ReactDOMServer.renderToString(<LineLogoByLineID lineID={section.lineID.split(\":\").pop()} className=\"h-5\" />),\r\n                                                    iconSize: [25,], // size of the icon\r\n                                                    iconAnchor: [10, 20], // point of the icon which will correspond to marker's location\r\n                                                    popupAnchor: [0, -40] // point from which the popup should open relative to the iconAnchor\r\n                                                })}\r\n                                            />\r\n                                        )}\r\n                                    </>\r\n                                )}\r\n                            </React.Fragment>\r\n                        ))}\r\n                    </MapContainer>\r\n                </div>\r\n            )}\r\n\r\n            {sectionDetails.map((section, index) => {\r\n                const isCorrespondence = section.from && section.to && section.from?.stop_point?.stop_area?.name === section.to?.stop_point?.stop_area?.name;\r\n                const isWaitingTime = !section.from && !section.to && section.duration;\r\n                const color = section.color;\r\n\r\n                if (section.mode === 'walking' && section.duration === 0) {\r\n                    return null;\r\n                }\r\n\r\n                return (\r\n                    <div key={section.index} className=\"bg-white relative flex p-4\">\r\n                        <div className=\"w-10 flex justify-center mr-4 flex-wrap\">                            <div\r\n                            style={{\r\n                                background: section.mode === 'walking' || section.mode === undefined\r\n                                    ? `linear-gradient(${color} 50%, transparent 50%)`\r\n                                    : color,\r\n                                backgroundSize: '1px 10px'\r\n                            }}\r\n                            className=\"absolute w-1 h-full z-10 top-6\"\r\n                        ></div>\r\n                            <div className=\"flex flex-col items-center space-y-2 mb-2 absolute z-20\">\r\n                                {section.mode !== undefined && !isCorrespondence ? (\r\n                                    <img\r\n                                        src={process.env.PUBLIC_URL + `/images/${convertTransportMode(section.mode)}.svg`}\r\n                                        alt={convertTransportMode(section.mode)}\r\n                                        className=\"bg-white h-6 lg:h-10\" />\r\n                                ) : (\r\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 19 30\" className=\"h-6 lg:h-10\">\r\n                                        <path fill=\"#fff\" stroke=\"#000\" stroke-width=\"2.5\" d=\"M1.75 9a7.75 7.75 0 1 1 15.5 0v12a7.75 7.75 0 0 1-15.5 0V9Z\"></path>\r\n                                    </svg>\r\n                                )}\r\n                                {section.lineID && (\r\n                                    // <img\r\n                                    //     src={process.env.PUBLIC_URL + `/images/${section.lineID.split(\":\").pop()}.svg`}\r\n                                    //     alt={section.lineID.split(\":\").pop()}\r\n                                    //     className=\"h-6 lg:h-10\"\r\n                                    // />\r\n                                    <LineLogoByLineID lineID={section.lineID.split(\":\").pop()} className=\"h-6 lg:h-10\" />\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"space-y-6 w-full\">\r\n                            {isCorrespondence ? (\r\n                                <p className='text-sm'>{section.duration} minutes de correspondance</p>\r\n                            ) : isWaitingTime ? (\r\n                                <p className='text-sm'>{section.duration} minutes d'attente</p>\r\n                            ) : (\r\n                                <>\r\n                                    <div>\r\n                                        <div className=\"flex justify-between font-bold\">\r\n                                            <p>{section.from?.stop_point?.stop_area?.name || section.from?.name}</p>\r\n                                            <p>{section.departure}</p>\r\n                                        </div>\r\n                                        {section.terminus !== 'Unknown' && (\r\n                                            <div className=\"flex items-center text-xs\">\r\n                                                <svg className=\"w-2 h-2 mr-2\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 14 10\">\r\n                                                    <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M1 5h12m0 0L9 1m4 4L9 9\" />\r\n                                                </svg>\r\n                                                {section.terminus}\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                    {section.mode !== 'walking' && section.mode !== undefined && (\r\n                                        <TrainInfo\r\n                                            lineID={section.lineID.split(':').pop()}\r\n                                            stationName={\r\n                                                (() => {\r\n                                                    try {\r\n                                                        let relation = relations.find(relation => relation.fields.arrid === section.from.id.split(\":\").pop());\r\n                                                        console.log(relation);\r\n                                                        if (!relation) {\r\n                                                            relation = relations.find(relation => relation.fields.zdaid === section.from.id.split(\":\").pop());\r\n                                                        }\r\n                                                        return relation ? relation.fields.zdcid : '';\r\n                                                    } catch (error) {\r\n                                                        console.error('Error accessing zdcid:', error);\r\n                                                        return '';\r\n                                                    }\r\n                                                })()\r\n                                            }\r\n                                            limit={5}\r\n                                        />\r\n                                    )}\r\n                                    {section.best_boarding_positions && (\r\n                                        <div>\r\n                                            <div className=\"flex items-center text-xs\">\r\n                                                <svg className=\"w-2 h-2 mr-2\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 14 10\">\r\n                                                    <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M1 5h12m0 0L9 1m4 4L9 9\" />\r\n                                                </svg>\r\n                                                Positionnement dans la rame \r\n                                            </div>\r\n                                            <div className=\"flex w-48 h-8\">\r\n                                                {['back', 'middle', 'front'].map((pos, index) => {\r\n                                                    const isSelected = section.best_boarding_positions.includes(pos);\r\n                                                    const color = isSelected ? `#${getLineColorByLineID(section.lineID.split(':').pop())}` : '#D1D5DB'; // #D1D5DB is equivalent to bg-gray-300 in Tailwind CSS\r\n                                                    return (\r\n                                                        <div key={index} className=\"flex-1 p-2 m-1 border-2 rounded\" style={{ backgroundColor: color }}>\r\n                                                        </div>\r\n                                                    );\r\n                                                })}\r\n                                            </div>\r\n                                        </div>\r\n                                    )}\r\n                                    <div className=\"flex items-center space-x-2 text-gray-500 text-sm\">\r\n                                        <p>{section.stop_date_times.length + 1} arrêts | {section.duration} min</p>\r\n\r\n                                        <button onClick={() => toggleStops(section.id)}>\r\n                                            {showStops ? (\r\n                                                <svg class=\"w-2 h-2\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 14 8\">\r\n                                                    <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 7 7.674 1.3a.91.91 0 0 0-1.348 0L1 7\" />\r\n                                                </svg>\r\n                                            ) : (\r\n                                                <svg class=\"w-2 h-2\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 14 8\">\r\n                                                    <path stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"m1 1 5.326 5.7a.909.909 0 0 0 1.348 0L13 1\" />\r\n                                                </svg>\r\n                                            )}\r\n                                        </button>\r\n                                    </div>\r\n                                    {showStops[section.id] && (\r\n                                        <ul>\r\n                                            {section.stop_date_times.map((stop, index) => (\r\n                                                <li key={index}>{stop.stop_point.name}</li>\r\n                                            ))}\r\n                                        </ul>\r\n                                    )}\r\n                                    <div className=\"flex justify-between font-bold\">\r\n                                        <p>{section.to?.stop_point?.stop_area?.name || section.to?.name}</p>\r\n                                        <p>{section.arrival}</p>\r\n                                    </div>\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                );\r\n            })}\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default JourneyDetails;","import React, { useEffect, useState, useRef } from 'react';\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { convertTransportMode } from '../utils/stringUtils';\r\nimport JourneyDetails from \"../components/JourneyDetails\";\r\nimport { LineLogoByLineID } from \"../utils/dataHelpers\";\r\nimport HashLoader from \"react-spinners/HashLoader\";\r\n\r\nfunction Trip() {\r\n    let params = new URLSearchParams(useLocation().search);\r\n    let from = params.get('from');\r\n    let to = params.get('to');\r\n\r\n    const [trainData, setTrainData] = useState([]);\r\n    const [selectedJourney, setSelectedJourney] = useState(null);\r\n    const journeyDetailsRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        const fetchLineData = async () => {\r\n            const response = await fetch(`https://prim.iledefrance-mobilites.fr/marketplace/v2/navitia/journeys?from=${from}&to=${to}`, {\r\n                headers: {\r\n                    'apikey': process.env.REACT_APP_IDFM_API_KEY\r\n                }\r\n            });\r\n            const data = await response.json();\r\n            console.log(data);\r\n            setTrainData(data.journeys ? data.journeys : []);\r\n        };\r\n\r\n        fetchLineData();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (selectedJourney && journeyDetailsRef.current) {\r\n            journeyDetailsRef.current.scrollIntoView({ behavior: 'smooth' });\r\n        }\r\n    }, [selectedJourney]);\r\n\r\n    const handleJourneySelect = (journey) => {\r\n        setSelectedJourney(journey);\r\n    };\r\n\r\n    // Helper function to format the total duration\r\n    const formatDuration = (seconds) => {\r\n        const hours = Math.floor(seconds / 3600);\r\n        const minutes = Math.floor((seconds % 3600) / 60);\r\n        return hours === 0 ? `${minutes} min` : `${hours} h ${minutes} min`;\r\n    };\r\n\r\n    // Helper function to format the cost\r\n    const formatCost = (fare) => {\r\n        if (!fare.found) return 'Not available';\r\n        return `${(fare.total.value / 100).toFixed(2)} ${fare.total.currency === 'centime' ? 'EUR' : fare.total.currency}`;\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {trainData.length > 0 ? (\r\n                <div>\r\n                    {trainData.map((journey, index) => {\r\n                        const totalDuration = formatDuration(journey.durations.total);\r\n                        const totalCost = formatCost(journey.fare);\r\n                        const departureTime = new Date(new Date(journey.departure_date_time.replace(/(\\d{4})(\\d{2})(\\d{2})T(\\d{2})(\\d{2})(\\d{2})/, \"$1-$2-$3T$4:$5:$6Z\")).getTime() - 60 * 60 * 1000).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n                        const arrivalTime = new Date(new Date(journey.arrival_date_time.replace(/(\\d{4})(\\d{2})(\\d{2})T(\\d{2})(\\d{2})(\\d{2})/, \"$1-$2-$3T$4:$5:$6Z\")).getTime() - 60 * 60 * 1000).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n                        return (\r\n                            <div\r\n                                key={index}\r\n                                className={`flex flex-col p-2 bg-white dark:bg-gray-800 dark:text-white cursor-pointer ${selectedJourney === journey ? 'sticky top-0 z-50' : ''}`}\r\n                                onClick={() => handleJourneySelect(journey)}\r\n                            >                                <div className=\"flex overflow-x-auto py-2\">\r\n                                    {journey.sections.map((section, idx) => (\r\n                                        <React.Fragment key={idx}>\r\n                                            <div className='flex items-center gap-1 shrink-0'>\r\n                                                {section.display_informations?.commercial_mode || section.mode ? (\r\n                                                    section.mode !== 'walking' || (section.mode === 'walking' && section.duration >= 60) ? (\r\n                                                        <img src={process.env.PUBLIC_URL + `/images/${convertTransportMode(section.display_informations?.commercial_mode || section.mode)}${localStorage.theme === 'dark' ? '_LIGHT' : ''}.svg`} alt={convertTransportMode(section.display_informations?.commercial_mode)} className=\"h-6 lg:h-10\" />\r\n                                                    ) : null\r\n                                                ) : null}\r\n                                                {section.links[1]?.id ? (\r\n                                                    // <img src={process.env.PUBLIC_URL + `/images/${section.links[1]?.id.split(\":\").pop()}.svg`} alt={section.links[1]?.id.split(\":\").pop()} className=\"h-6 lg:h-10\" />\r\n                                                    <LineLogoByLineID lineID={section.links[1]?.id.split(\":\").pop()} className=\"h-6 lg:h-10\" />\r\n\r\n                                                ) : null}\r\n                                                {idx < journey.sections.length - 1 && (section.display_informations?.commercial_mode || section.mode || section.links[1]?.id) && (\r\n                                                    section.mode !== 'walking' || (section.mode === 'walking' && section.duration >= 60) ? (\r\n                                                        idx !== journey.sections.length - 2 ? (\r\n                                                            <svg className=\"w-2 h-2 mr-0.5\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 8 14\">\r\n                                                                <path stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"m1 13 5.7-5.326a.909.909 0 0 0 0-1.348L1 1\" />\r\n                                                            </svg>\r\n                                                        ) : null\r\n                                                    ) : null\r\n                                                )}\r\n                                            </div>\r\n                                        </React.Fragment>\r\n                                    ))}\r\n                                </div>\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <p className='text-sm'>{totalCost}</p>\r\n                                    <div className='text-right'>\r\n                                        <p><strong>{totalDuration}</strong></p>\r\n                                        <p className='text-sm'>{departureTime} - {arrivalTime}</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    })}\r\n\r\n                    {selectedJourney &&\r\n                        <div ref={journeyDetailsRef}>\r\n                            <JourneyDetails key={Date.now()} journeyData={selectedJourney} />\r\n                        </div>\r\n                    }\r\n                </div>\r\n            ) : (\r\n                <div className=\"flex items-center justify-center\" style={{ height: 'calc(100vh - 130px)' }}>\r\n                    <HashLoader size={30} color=\"#6D28D9\" />\r\n                </div>\r\n            )}\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Trip;"],"names":["_ref","lineID","stationName","stationID","limit","_useState","useState","_useState2","_slicedToArray","trainData","setTrainData","_useState3","_useState4","status","setStatus","useEffect","fetchData","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","response","data","nextDepartures","zoneAreas","fetchPromises","wrap","_context","prev","next","fetch","sent","json","length","every","train","lineDirection","forEach","lineTypes","TRAIN","includes","lineId","correspondingRelation","relations","find","relation","arrid","destination","stopPointId","split","pop","zoneArea","zdcid","push","map","newURL","concat","console","log","then","Promise","all","results","combinedNextDepartures","reduce","combined","result","index","getStationNameByStationID","sort","a","b","parseInt","time","filter","value","self","findIndex","obj","obj1","obj2","JSON","stringify","errorMessage","t0","stop","_x","apply","arguments","intervalId","setInterval","clearInterval","_jsx","Link","to","children","className","_jsxs","role","class","xmlns","fill","viewBox","d","groupedTrains","sens","Object","keys","style","borderBottom","getLineColorByLineID","LineLogoByLineID","removeGareDePrefix","vehicleName","code","schedule","_Fragment","Date","now","toLocaleTimeString","hour","minute","backgroundImage","slice","journeyData","showStops","setShowStops","sectionDetails","sections","section","_section$geojson","_section$display_info","_section$links$","_section$display_info2","_section$display_info3","coordinates","geojson","_ref3","lng","color","display_informations","markerPosition","lineName","links","id","from","terminus","direction","mode","commercial_mode","stop_date_times","best_boarding_positions","departure","departure_date_time","replace","arrival","arrival_date_time","duration","Math","floor","dx","dy","distance","sqrt","zoom","RecenterControl","useMap","control","L","position","onAdd","button","create","innerHTML","cssText","onclick","flyTo","addTo","remove","MapContainer","center","attributionControl","zoomControl","TileLayer","idx","React","Polyline","positions","dashArray","Marker","icon","html","ReactDOMServer","iconSize","iconAnchor","popupAnchor","_section$from","_section$from$stop_po","_section$from$stop_po2","_section$to","_section$to$stop_poin","_section$to$stop_poin2","_section$from2","_section$from2$stop_p","_section$from2$stop_p2","_section$from3","_section$to2","_section$to2$stop_poi","_section$to2$stop_poi2","_section$to3","isCorrespondence","stop_point","stop_area","name","isWaitingTime","background","undefined","backgroundSize","stroke","src","process","convertTransportMode","alt","TrainInfo","fields","zdaid","error","pos","backgroundColor","onClick","sectionId","prevState","_objectSpread","_defineProperty","params","URLSearchParams","useLocation","search","get","selectedJourney","setSelectedJourney","journeyDetailsRef","useRef","fetchLineData","headers","journeys","current","scrollIntoView","behavior","journey","fare","totalDuration","seconds","hours","minutes","formatDuration","durations","total","totalCost","found","toFixed","currency","departureTime","getTime","arrivalTime","handleJourneySelect","_section$links$2","_section$display_info4","_section$links$3","localStorage","theme","strokeLinecap","strokeLinejoin","strokeWidth","ref","JourneyDetails","height","HashLoader","size"],"sourceRoot":""}